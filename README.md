# add_plus
## Дополнение к методике дымового тестирования Vanessa ADD

### Полезные ссылки

- [Репозиторий add](https://github.com/vanessa-opensource/add/)
- [Исходные дымовые тесты](https://github.com/vanessa-opensource/add/tree/develop/tests/smoke)
- [Описание текущих реализованных\дополненных дымовых тестов](https://github.com/Arcius7012/add_plus/blob/main/doc/%D0%9E%D0%BF%D0%B8%D1%81%D0%B0%D0%BD%D0%B8%D0%B5%20%D0%B4%D1%8B%D0%BC%D0%BE%D0%B2%D1%8B%D1%85%20%D1%82%D0%B5%D1%81%D1%82%D0%BE%D0%B2.md)
- [Примеры cmd файлов для запуска на компьютере разработчика](https://github.com/Arcius7012/add_plus/tree/main/examples)
- [Заготовка нового дымового теста](https://github.com/Arcius7012/add_plus/tree/main/features/samples)

### Настройки под конкретные конфигурации (отдельная ветка по каждой конфигурации)

- [Управление холдингом, ред. 3.2]()
- [Зарплата и управление персоналом ред. 3.1]()

## Краткий гайд как это быстро запустить

0. Установить себе [OneScript](https://oscript.io/downloads/), библиотеки OneScript.
0. Заменить в библиотеке add (напр. C:\Program Files\OneScript\lib\add) файлы из каталога [fixtures/add](https://github.com/Arcius7012/add_plus/tree/main/fixtures/add).
0. Определиться с конфигурацией, на которой будете запускать набор тестов.
0. Поискать ветку для конкретной конфигурации в репозитории (ветки release_uh_\*.\*, release_zup_\*.\* и т.п.).
0. Если нужной ветки нет, сделать новую ветку под вашу типовую конфигурацию (на основании [новая ветка настройки](https://github.com/Arcius7012/add_plus/tree/release_new)).
0. Если нужного релиза нет, взять за основую ближайший.
0. Развернуть себе демо-базу типового релиза (без ваших доработок).
0. Открыть в базе обработку [ВыгрузкаОбъектовМетаданныхКонфигурации.epf](https://github.com/Arcius7012/add_plus/blob/main/tools/%D0%92%D1%8B%D0%B3%D1%80%D1%83%D0%B7%D0%BA%D0%B0%D0%9E%D0%B1%D1%8A%D0%B5%D0%BA%D1%82%D0%BE%D0%B2%D0%9C%D0%B5%D1%82%D0%B0%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85%D0%9A%D0%BE%D0%BD%D1%84%D0%B8%D0%B3%D1%83%D1%80%D0%B0%D1%86%D0%B8%D0%B8.epf).
0. Сохранить настройки в каталог [settings/releases](https://github.com/Arcius7012/add_plus/tree/main/settings/releases). Тут будет храниться информация о вашем типовом релизе.
0. Открыть файл настроек дымового теста [smoke.json](https://github.com/Arcius7012/add_plus/blob/main/settings/smoke.json).
0. Проверить\скорректировать блок "Информация" о вашем типовом релизе.
0. **Лучше дымовые тесты запускать по одному, запустили 1 вид теста, отладили, перешли к следующему (Параметр "Используется" в каждой настроке теста)**.
0. Заполнить настройки теста по аналогии.
0. В **корень репозитория** поместить cmd файл с запуском дымового тестирования, примеры cmd можно взять из каталога [examples](https://github.com/Arcius7012/add_plus/tree/main/examples). **Удалить префикс `/example_`**.
0. `smoke_run_*.cmd` - запуск тестирования (пользователь для тестирования должен существовать), `smoke_allure.cmd` - вывод отчета о тестировании Аллюр.

Если сделаете настройку для типового релиза, которого еще нет в ветках, большая просьба эту настроку через pull-реквест закинуть для коллег :smirk: